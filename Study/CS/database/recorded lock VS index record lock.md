일반적으로 스토리지 엔진 레벨에서 레코드 잠금은 특정 테이블의 행(row) 자체를 잠그는 것을 의미.
이 방식에서는 해당 행에 대한 읽기 및 쓰기 잠금이 해제될 때 까지 대기하게된다.
하지만 이는 잠금 경합(lock contention)이 발생할 수 있어 성능에 영향이 있을 수 있다.

MySQL에서는 이런 전통적인 잠금 대신, ==인덱스 레코드 잠금==을 사용한다.

1. 인덱스를 통한 접근: MySQL은 인덱스를 사용하여 데이터를 검색할 때, 인덱스 항목(레코드)를 잠근다. 이는 데이터 자체를 잠그는 것 보다 더 세밀한 제어가 가능해진다.
2. 잠금 범위 축소: 인덱스 레코드 잠금은 테이블의 전체 행이 아닌, 검색된 인덱스 항목만 잠근다.
   이렇게 하면 동시성 제어를 효율적으로 할 수 있다.
3. 잠금 성능 개선: 인덱스 레코드 잠금을 사용하면, 여러 트랜젝션이 동시에 다른 행에 접근할 수 있게 되어 잠금 경합이 줄어들고 성능이 향상된다.

예를들어 `SELECT * FROM users WHERE id = 1 FOR UPDATE;` 라는 쿼리를 실행.
MySQL은 id인덱스를 사용하여 id = 1 인 행을 찾고, 인덱스 항목을 잠금.
이렇게 하면 id 컬럼을 기준으로 한 다른 트랜잭션은 이 행을 읽거나 수정할 수 없게된다. 그러나 인덱스가 아닌 다른 컬럼을 기준으로 하는 쿼리는 계속해서 수행될 수 있다.

결론적으로 MySQL에서 인덱스 레코드 잠금은 전통적인 레코드 잠금보다 더 정밀하고 효율적인 잠금 메커니즘을 제공하여 성능 향상과 동시성 제어를 보다 효과적으로 할 수 있다.
