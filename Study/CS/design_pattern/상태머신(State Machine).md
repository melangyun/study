유한 상태 기계는 컴퓨터 프로그램과 전자 논리 회로를 설계하는 데에 쓰이는 수학적 모델이며, 유한한 개수의 상태를 가질 수 있는 오토마타, 즉 추상 기계라고 할 수 있다.

이러한 기계는 한 번에 오로지 한 개의 상태만을 가지게 되며, 현재 상태(Current State)란 임의의 주어진 시간의 상태를 칭한다. 이러한 기계는 어떠한 사건(Event)에 의해 한 상태에서 다른 상태로 변화할 수 있으며, 이를 천이(Transition)라 한다.

특정한 유한 오토마톤은 현재 상태로부터 가능한 전이 상태와, 이러한 전이를 유발하는 조건들의 집합으로서 정의된다.

> [!question] 이런것을 왜쓸까?
> 얼핏 보기에는, 절차지향적인 프로그램에서 if-else 문을 타고 이벤트문을 처리하거나, switch-case 문을 타고 이벤트문을 처리해도 전혀 다를 게 없어 보인다.
구현하는 데에 시간만 더 걸리는 것을 대체 왜 쓸까?

> [!tip] 그 이유는 안정성 때문이다.
> 수학적 모델은 그 정의 자체만으로도 안정성이 있다. 통제 가능한 변인을 제어하여 원하는 아웃풋을 내기 때문이다.
> if-else문이나 switch-case문에서는 설계 자체에 결함이 없더라도, 구현중 변수 오염이나, 잘못된 플로우를 타게 할 경우의 수가 존재한다.
> > 특히 여러 명이 협업하거나, 멀티 스레딩/ 멀티 프로세싱 환경일 때 변수 오염의 문제가 더욱 심각해진다.
>Stae Machine은 그러한 결함이 일어날 경우의 수가 현저히 낮아진다.

## 상태머신의 구성

- **현재 상태(Current State)**: 임의의 주어진 시간의 상태
- **사건(Event)**: 머신의 상태는 이벤의에 의해 변화한다.
- **이를 전이(Transition)**이라고 한다.

## 상태머신의 장점
![상태머신](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcTHDHr%2FbtroAAdS3B9%2FYXUVSWR6qwNMO3G0GjjfsK%2Fimg.png)

1. 반드시 설계한 대로만 플로우가 흐른다.
	- 따라서 로그를 보지 않고도 짐작이 가능하여 디버깅이 빨라진다.
2. 정해진 이벤트를 통해 상태가 전이된다.
	- 설계자는 모든 플로우를 주관하여 설계할 수 있고, 구현자는 설계 문서만 보더라도 설계와 똑같이 구현이 가능해진다.
	- 설계 자체도 단순해지며, 문서화에 걸리는 시간이 줄어든다.
	- 안정된 실행 환경을 보전한다.
3. 전체적인 흐름이 유기적이며 명확하다.



---
[state Machine이란 무엇인가 - 1](https://underflow101.tistory.com/55)
[유한 상태 기계](https://ko.wikipedia.org/wiki/%EC%9C%A0%ED%95%9C_%EC%83%81%ED%83%9C_%EA%B8%B0%EA%B3%84)