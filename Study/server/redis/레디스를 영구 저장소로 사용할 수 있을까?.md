- [?] 🤔사용할 수 없다면 어떤 문제점이 존재할까?

🤖
레디스는 영구 저장소로 사용하는것은 가능하지만, 몇가지 주의사항이 있다.
메모리 기반의 인메모리 데이터베이스로 설계되었기 때문에, 영구 저장소로 사용하기 위해서는 추가 설정과 주의가 필요하다.

1. AOF(Append-Only-File): AOF모드를 사용하여 데이터 변경 사항을 디스크에 지속적으로 기록할 수 있다. 이는 영구 데이터 복구와 영구 저장에 도움이 됨.
2. RDB: RDB 스냅샷을 사용하여 일정 간격으로 데이터베이스의 스냅샷을 디스크에 저장할 수 있다. 이 방법은 메모리 사용량이 적고, 주기적으로 전체 데이터를 저장하므로 데이터 복구시 유용하다.
3. 데이터 내구성: AOF, RDB를 함께 사용하는것도 가능하다.
   RDB는 정기적인 백업을 제공, AOF는 실시간으로 데이터 변경 사항을 기록하여 두가지 방식의 장점을 모두 활용할 수 있다.
4. 성능: AOF모드에서는 디스크 쓰기 작업이 빈번하게 발생하여 성능에 영향이 있을 수 있다.
   AOF의 동기화 빈도를 조정하여, 성능과 내구성 사이의 균형을 맞출 수 있다.
5. 복구시간: RDB 스냅샷만을 사용하는 경우, 백업 주기 사이에 발생한 데이터 변경 사항이 손실 될 수 있다. AOF는 변경 사항을 모두 기록하기 때문에 더 긴 복구 시간이 필요할 수 있다.
6. 데이터 무결성: AOF 파일이 손상될 경우 데이터를 복구하는데 문제가 생길 수 있다. 이를 위해 AOF파일을 정기적으로 rewrite하여 파일 크기를 줄이고, 무결성을 유지할 수 있음

- [?] 그럼 rdb를 사용하지 않고 redis만 사용한다는 생각도 해볼수 있지 않을까? 이건 왜 안쓰는거야?

- 데이터 내구성
  서버가 재시작되거나, 장애가 발생하면, 메모리에 잇는 데이터는 손실.
  AOF를 사용하면 일부 내구성을 제공할 수 있지만, 완전한 데이터 보호를 위해서는 추갖거인 백업 및 복구 전략이 필요하다.
- 데이터 일관성
	레디스는 성능을 위해 일관성을 포기한다. AOF옵션을 `always`가 아닌 `everysec`옵션을 사용하면 1초간의 데이터 손실이 발생할 수 있다.
	이는 RDBMS에서 제공하는 강력한 일관성(CAP이론의 강한 일관성 모델)과는 차이가 있다.
- 복잡한 쿼리
  RDB가 제공하는 복잡한 쿼리 기능을 제공하지 않는다. 복잡한 데이터 모델을 구할때 어려움이 있을 수 있다.
- 확장성
	레디스는 단일 스레드로 동작하며, 수평 확장(클러스터링)을 위해서는 추가적인 설정과 복잡성이 필요하다.
	RDB가 일반적으로 더 많은 확장성 옵션을 제공.

> [!summary] 정리해보면
> 레디스의 성능과, 쿼리, 데이터 내구성과 일관성의 문제로 캐시, 세션관리 등에서만 사용하는게 적합하다.
