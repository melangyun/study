# 1부_더 큰 그림

## 1. 단위 테스트의 목표
- 코드는 점점 더 나빠지는 경향이 있다. 코드베이스에 변경이 생길 때 마다 무질서도(엔트로피)가 증가한다. 지속적인 정리와 리펙터링 등과 같은 적절한 관리가 없으면 시스템은 점점 더 복잡해지고 흐트러진다. 테스트로 이러한 경향을 뒤집을 수 있다. 테스트는 안전망 역할을 하며, 대부분 회귀에 대한 보험을 제공하는 도구라 할 수 있다.
- 단위 테스트를 작성하는 것이 중요하다. 마찬가지로 좋은 단위 테스트를 작성하는 것도 중요하다. 잘못된 테스트를 가졌거나 테스트 자체가없는 프로젝트는 모두 똑같이 침체단계에 있거나 매 릴리즈마다 회귀가 많이 생긴다.
- ==단위 테스트의 목표는 소프트웨어 프로젝트가 지속적으로 성장하게 하는것이다.== 좋은 단위 테스트 스위트는 개발 속도를 지키면서 침체 단계에 빠지지 않게 한다. 이러한 테스트 스위트가 있다면 변경 사항이 회귀로이어지지 않을 것이라고 확신해도 좋다. 이렇게 하면 코드를 리팩터링 하거나 새로운 기능을 추가하는 것이 더 쉬워진다.
- 모든 테스트를 똑같이 작성할 필요는 없다. 각각의 테스트는 비용과 편익 요소가 있으며, 둘 다 신중하게 따져볼 필요가 있다. ==테스트 스위트 내에 가치있는 테스트만 남기고 나머지는 모두 제거하라. 애플리케이션과 테스트 코드는 모두 자산이 아니라 *부채다.*==
- 단위 테스트 코드 기능은 좋은 리트머스 시험이지만, 한방향으로만 작동한다. 좋은 부정 지표 이지만, 나쁜 긍정 지표이기도 하다. 마찬가지로 커버리지 지표는 좋은 부정지표이지만 나쁜 긍정지표다. 커버리지가 낮다는 것은 문제 징후이지만, 커버리지가 높다고 해서 테스트 스위트 품질이 높은것은 아니다.
- 분기 커버리지로 테스트 스위트의 완전성에 대해 더 나은 인사이트를 얻을 수 있지만, 테스트 스위트가 충분한지는 여전히 알 수 없다. 검증문이 있는지 신경쓰지 않고, 코드베이스가 사용하는 서드파티 라이브러리의 코드 경로도 다루지 않는다.
- 특정 커버리지 숫자를 부과하면 동기 부여가잘못된 것이다. 시스템의 핵심부분에 커버리지를 높게 갖는 것은 좋지만, 이 높은 수준을 요건으로 삼는 것은 좋지 않다.
- 성공적인 테스트 스위트는 다음과 같은 특성을 나타낸다.
	- 개발 주기에 통합돼 있다.
	- 코드베이스 중 가장 중요한 부분만을 대상으로 한다.
	- 쵝소한의 유지비로 최대의 가치를 끌어낸다.
- 단위 테스트의 목표를 달성하기 위한 방법은 다음과 같다.
	- 좋은 테스트와 좋지 않은 테스트를 구별하는 방법을 배운다.
	- 테스트를 리팩터링해서 더 가치있게 만든다.