# 자바의 메모리 구조
- 메서드 영역
	메서드 영역은 프로그램을 실행하는데 필요한 공통 데이터를 관리한다.  이 영역은 프로그램의 모든 영역에서 공유한다.
	- 클래스 정보: 클래스의 실행 코드(바이트 코드), 필드, 메스드와 생성자 코드 등 모든 실행코드가 존재
	- static 영역: static 변수들을 보관한다.
	- 런타임 상수 풀: 프로그램을 실행하는데 필요한 공통 리터럴 상수를 보관한다.
- 스택 영역
	자바 실행 시, 하나의 실행 스택이 생성된다. 각 스택 프레임은 지역 변수, 중간 연산 결과, 메서드 호출 정보 등을 포함한다.
	- 스택 프레임: 스택 영역에 쌓이는 네모 박스가 하나의 스택 프레임이다.
	  메서드를 호출할 때마다 하나의 스택 프레임이 쌓이고, 메서드가 종료되면 해당 스택 프레임이 제거된다.
  - 힙 영역
	객체 인스턴스와 배열이 생성되는 영역. GC이 이루어지는 주요 영역이며, 더 이상 참조되지 않는 객체는 GC에 의해 제거된다.

> 스택 영역은 더 정확히는 각 스레드별로 하나의 실행 스택이 생성된다. 따라서 스레드 수 만큼 스택이 생성된다.


# 스레드
스레드 간 실행 순서는 보장하지 않는다.
- 스레드는 동시에 실행되기 때문에, 스레드 간에 실행 순서는 얼마든지 달라질 수 있다.
CPU코어가 2개여서 물리적으로 정말 동시에 실행될수도 있고, 하나의 CPU코어에 시간을 나누어 실행될수도 있다. 그리고 한 스레드가 얼마나 오랜기간 실행되느닞도 보장하지 않는다. 한 스레드가 먼저 다 수행된 다음에 다른 스레드가 수행될 수도 있고, 둘이 완전히 번갈아 가면서 수행되는 경우도 있다.

- [i] 스레드는 순서와 실행 기간을 모두 보장하지 않는다!

# 데몬 스레드
스레드는 `사용자 스레드`와 `데몬 스레드` 2가지 종류로 구분할 수 있다.

**사용자 스레드(non-daemon 스레드)**
- 프로그램의 주요 작업을 수행한다.
- 작업이 완료될 때까지 실행한다.
- ==모든 user스레드가 종료되면 JVM도 종료된다.==

**데몬 스레드**
- 백그라운드에서 보조적인 작업을 수행한다.
- 모든 user 스레드가 종료되면 데몬 스레드는 자동으로 종료된다.
<u>JVM은 데몬 스레드의 실행 완료를 기다리지 않고 종료된다.</u> 데몬 스레드가 아닌 모든 스레드가 종료되면, 자바 프로그램도 종료된다.

> 사용자에게 직접적으로 보이지 앟으면서 시스템의 백그라운드에서 작업을 수행하는것을 `데몬스레드`, `데몬 프로세스`라고한다.
> 예를들어 사용하지 않는 파일이나 메모리를 정리하는 작업들이 있다.

```java
Thread deamonThread = new Thread();
deamonThread.setDemon(true); // 데몬 스레드 여부
```

# Runnable

```java
package java.lang;

public interface Runnable {
  void run();
}
```
자바가 제공하는 스레드 실행용 인터페이스이다.
**스레드를 사용할 때는 `Thread`를 상속받는 방법보다 `Runnable`인터페이스를 구현하는 방식을 사용하자** 
<u>스레드와 실행할 작업을 명확히 분리하고, 인터페이스를 사용하므로, `Thread` 클래스를 직접 상속받는 방식보다 더 유연하고 유지보수하기 쉬운 코드를 만들 수 있다.</u>

**Thread 클래스 상속 방식**
장점
- 간단한 구현: Thread 클래스를 상속받아 `run()`메서드만 재정의 하면 된다.
단점
- 상속의 제한
	자바는 단일 상속만 허용하므로, 이미 다른 클래스를 상속받고 있는 경우 `Thread`클래스를 상속 받을 수 없다.
- 유연성 부족
	인터페이스를 사용하는 방법에 비해 유연성이 떨어진다.

## Runnable 인터페이스 구현 방식
장점
- 상속의 자유로움
	`Runnable`인터페이스 방식은 다른 클래스를 상속받아도 문제없이 구현할 수 있다.
- 코드의 분리
	스레드와 실행할 작업을 분리하여 코드의 가독성을 높일 수 있다.
- 여러 스레드가 동일한 Runnable 객체를 공유할 수 있어 자원 관리를 효율적으로 할 수 있다.
단점
- 코드가 약간 복잡해 질 수 있다.
