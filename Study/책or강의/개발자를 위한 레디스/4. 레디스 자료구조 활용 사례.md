레디스의 커맨드가 제공하는 여러 커맨드는 대부분 애플리케이션 레벨에서도 구현될 수 있겠지만, 레디스 자료 구조에 내장된 함수를 이용해 원하는 기능을 사용하면 데이터를 애플리케이션 메모리 영역으로 가져간 뒤 가공하는 데에 걸리는 시간을 줄일 수 있기 때문에 레디스가 제공하는 다양한 자료 구조를 적절히 활용한다면 애플리케이션에서는 매우 짧은 대기시간으로 엄청난 양의 작업을 처리할 수 있다.

# SortedSet
## 리더보드
- 절대적 리더보드: 서비스의 모든 유저를 정렬시켜 상위권 목록만을 표기
- 상대적 리더보드: 사용자의 스코어를 기반으로 그들을 다른 사용자와 비교해 순위를 결정하는 형태의 리더보드

> 사용자가 속한 그룹 내에서 또는 특정 경쟁자와의 스코어 대결에서 상대적인 순위를 제공하며, 절대적인 모든 사용자를 대상으로 한 리더보드와는 다르다.
> 주로 사용자 간 경쟁과 상대적인 성과를 강조하는 리더보드 유형으로 나뉜다.

-> 기중치를 줄 수도 있으며, 랭킹 합산을 할 수 있다.
## 최근 검색 기록
- 유저별로 다른 키워드 노출
- 검색 내역은 중복 제거
- 가장 최근 검색한 5개 키워드만 사용자에게 노출

만일 위 요구사항을 RDB로 구현하려고 했다면, 많은 어려움이 있었을 것이다.
순서또한, 가중치(검색 일시)로 조정이 가능하며, set으로 인해서 자연스럽게 중복이 제거된다.
또, 가장 오래된 6번째 인덱스 데이터를 삭제한다면, 자연스럽게 최근 5개 키워드만 사용자에게 노출 할 수 있다.

## 태그기능
중복 제거 + 교집합 연산도 쉽게 할 수 있다.


# 레디스의 다양한 카운팅 방법

애플리케이션에서 데이터 개수를 세는 카운팅 작업은 자주 발생한다. 이러한 작업은 요구사항에 따라 다양한 형태로 이뤄질 수 있는데, 단순히 아이템의 개수를 파악해야 하는 경우도 있고, 어떤 아이템이 저장됬는지 함께 파악해야 하는경우도 있다.
때로는 ==약간의 오차를 허용하면서 매우 큰 데이터 셋을 빠르게 처리하고자 할 때도 있다==

## 좋아요 처리하기
포털 사이트의 좋아요 기능을 추가한다고 가정하자.
RDB를 사용했다면, DB에 직접적인 영향을 끼칠 수 있다. 또, 하나의 유저는 같은 댓글에 한 번씩만 좋아요를 누를 수 있어야 하기 때문에, 단순히 좋아요의 개수를 파악하는 것이 아닌, 어떤 유저가 어떤 댓글에 좋아요를 눌렀는지 데이터 처리를 할 수 있어야 한다.

- set을 활용

```reids-cli
> SADD comment-like:12554 967
(integer) 1
```
각 댓글별로 좋아요를 누른 수는 SCARD 커맨드로 확인할 수 있다.
```redis-cli
> SCARD comment-like:12554
(integer)3
```






