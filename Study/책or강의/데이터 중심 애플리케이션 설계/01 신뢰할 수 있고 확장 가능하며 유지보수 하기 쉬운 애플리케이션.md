> 내부적으로 문제가 있어도 데이터를 정확하고 완전하게 유지하려면 어떻게 해야할까?
> 일부 성능이 저하되더라도 클라이언트에 일관되게 좋은 성능을 어떻게 제공할 수 있을까? 부하 증가를 다루기 위해 어떻게 규모를 확장할까?

소프트웨어 시스템에서 중요하게 여기는 세가지 관심사에 중점
1. 신뢰성(reliablilty)
	HW, SW 결함, 인지적 오류같은 역경에 직면하더라도 시스템은 지속적으로 올바르게 동작해야한다.
2. 확장성(scalability)
	시스템의 데이터-트래픽의 양, 복잡도가 증가해도 이를 처리할 수 있는 적절한 방법이 있어야 한다.
3. 유지보수성(Maintainability)
	모든 사용자가 (시간이 흘러도) 시스템 상에서 생산적으로 작업할 수 있게 해야 한다.

# 신뢰성
`무언가 잘못되더라도 지속적으로 올바르게 동작함`
- *결함(fault)*: 잘못될 수 있음
- [i] 결함을 예측하고 대처할 수 있는 시스템을 ==내결함성, 탄력성(fault-tolerant, resilient)==을 지녔다고 한다
	*현실적으로 모든 결함을 이야기하지는 못한다.*

>[!info] 결함과 장애는다르다.
>- 결함: 사양에서 벗어난 시스템의 한 요소
>- 장애: 사용자에게 필요한 서비스를 제공하지 못하고 시스템 전체가 멈춘 경우

고의적으로 결함을 유도함으로서 내결함성 시스템을 지속적으로 훈련하고 테스트해서 결함이 자연적으로 발생했을 때 올바르게 처리할 수 있다는 자신감을 높인다 > [[카오스 엔지니어링(개념)]]
## 하드웨어 결함
하드웨어 결함은 늘상 일어날 수 있다. 
AWS와 같은 클라우드 플랫폼은 가상 장비 인스턴스가 별도 경고 없이 사용할 수 없게 되는 상황이 일반적이다 (`단일 장비 신뢰성 < 유연성, 탄력성`우선으로 하도록 처리되었기 때문 )

## 소프트웨어 결함
SW의 내 체계적 오류는 예상하기 어렵고 신속한 해결책이 없다.
시스템 가정과 상호작용에 대해 주의 깊게 생각하기, 빈틈없는 테스트, 프로세스 격리, 죽은 프로세스의 재시작 허용, 프로덕션 환경에서 시틈 동작의 측정, 모니터링, 분석하기 등

## 인적 오류
사람이 미덥지 않은데, 시스템을 어떻게 신뢰성있게 만들까?
- 오류의 가능성 최소화 하는 방향
- 비 프로덕션 샌드박스 제공
- 단위테스트 - 통합테스트까지 모든 수준에서 철저하게 테스트
- 장애 발생의 영향을 최소화 하기 위해 인적 오류를 빠르고 쉽게 복구할 수 있게 하라.
  변경 내역을 빠르게 롤백하고 새로운 코드를 서서히 롤아웃하게 만들고, 이전 계산이 잘못된 경우를 대비해 데이터 재계산 도구를 제공하라
- 성능 지표와 오류율 같은 상세하고 명확한 모니터링 대첵을 마련하라

# 확장성
시스템이 현재 안정적으로 동작한다고 해서 미래에도 안정적으로 동작한다는 보장은 없다.

## 부하기술하기
시스템의 현재 부하를 간결하게 기술해야, 부하 성장 질문(부하가 두배로 되면 어떻게 될까?)을 논의할  수 있다.

> [!example] 예시: twitter의 fan-out
> 1. 전역 컬렉션에 삽입 -> 읽어오기
> 2. 팔로워 타임라인 `캐시`에 새로운 트윗 삽입
>
>두 접근 방식의 혼합형으로 바꾸고 있다 (대부분의 사용자는 1, 유명인사는 2)

## 성능 기술하기
아래 방법으로 살펴볼 수 있다.
1. 부하 매개변수를 증가시키고, 시스템 자원은 변경하지 않고 유지하면 시스템 성능은 어떻게 영향을 받을까?
2. 부하 매개변수를 증가시켰을 때 성능이 변하지 않고 유지되길 바란다면, 자원을 얼마나 늘려야할까?
두 질문 모두 `처리량`과 `응답시간`에 대한 성능 수치가 필요하다 `산술 평균`보단 <u>`백분위`, `중앙값` 을 사용하는것이 좋다.</u>

> 보통 응답 시간이 가장 느린 요청을 경험한 고객들은 많은 구매를 해서 고객 중에서 가장 많은 데이터를 갖고 있어서다. 즉 이들은 가장 소중한 고객이다.

## 부하 대응 접근방식
대규모로 동작하는 시스템 아키텍처는 해당 시스템을 사용하는 애플리케이션에 특화되어있다. 범용적이고 모든 상황에 맞는 확장 아키텍처는 없다. 아키텍처를 결정하는 요소는 읽기의 양, 쓰기의 양, 저장할 데이터의 양, 데이터의 복잡도, 응답 시간 요구사항, 접근 패턴 등이 있다.

# 유지보수성
유지보수 중 고통을 최소화하고, 레거시SW를 직접 만들지 않게끔 설계할 수 있다. 
- 운용성: 운영팀이 시스템을 원활하게 운영할 수 있게 쉽게 만들것
- 단순성: 시스템 복잡도를 최대한 제거, 새로운 엔지니어가 시스템을 이해하기 쉽게 만들어라
- 발전성: 시스템을 쉽게 변경할 수 있게 해라. 그래야 요구사항 변경 같은 예기치 않은 사용사례를 적용하기가 쉽다. (유연성, 수정 가능성, 적응성)

