- 동시성 처리 방법의 새로운 관점
- request - reply에 대한 이해
---
주문 유입량 조절 트리거가 여러개 존재함. (장애상황, 기상상황, 라이더 부족 등등)

- N개의 트리거로 수십반개의 가게가 동시에 변경되면 어떻게 될것인가?
	- 데드락 등등이 생김

- [!] 주문 유입량 조절은 순서가 중요하다.
1. 라이더 부족 -> 순차로 줄임
2. 시스템 장애 감지 -> 최대로 줄임
두가지 상황이 존재한다면 - 최대로 줄이는것을 기대했으나, 실행 결과 라이더 부족 단계로 주문 유입량 조절이 일어 날 수 있다.

- [?] 근데 단순히 Lock을 걸면 정확한 순서로 순서 보장이 가능할까?
동시성이 증가할수록 락 획득의 경합이 심화되며, 요청 순서 보장이 복잡해지기때문

해결해야할 문제
1. 동시성 이슈
2. 순서보장
3. 처리결과를 알아야함
동시성, 순서보장은 kafka 로 해결이 가능하다.
그런데 kafka를 이용하면 처리결과를 어떻게 알 수 있을까? -> `request-reply`패턴

`Reply kafka template`

`RequetTopic` 을 단일 토픽으로 운영
`RequestDispatcher`