```bash
vi .git/hooks/prepare-commit-msg
```
스크립트 복사
```
  #!/bin/bash
    #BRANCH_NAME=$(git symbolic-ref —short HEAD)
    BRANCH_NAME=`git rev-parse --abbrev-ref HEAD`
    BRANCH_NAME="${BRANCH_NAME##*/}"
    RAW_JIRA_ID=$(echo $BRANCH_NAME | egrep -o '[A-Z]+-[0-9]+')
    JIRA_ID="[${RAW_JIRA_ID}]"

    JIRA_ID_IN_COMMIT=$(cat $1 | egrep -o '\[[A-Z]+-[0-9]+\]')
    BRANCH_JIRA_ID_IN_COMMIT=$(grep -c "\[$RAW_JIRA_ID\]" $1)
    
    if [ ${#RAW_JIRA_ID} -gt 0 ] && [ ${#JIRA_ID_IN_COMMIT} -gt 0 ] && [ "$JIRA_ID" != "$JIRA_ID_IN_COMMIT" ]; then
      echo "Replace JIRA ID ($JIRA_ID_IN_COMMIT) in commit message with JIRA ID ($JIRA_ID) in branch"
      QUERY="s/$JIRA_ID_IN_COMMIT/$JIRA_ID/g"
      QUERY="${QUERY/\[/\\[}"
      QUERY="${QUERY/\]/\\]}"
      sed -i.bak -e "$QUERY" $1
    elif [ ${#RAW_JIRA_ID} -gt 0 ] && ! [[ $BRANCH_JIRA_ID_IN_COMMIT -ge 1 ]]; then
      sed -i.bak -e "1s/^/$JIRA_ID /" $1
    fi
```
권한 변경
```bash
chmod +x .git/hooks/prepare-commit-msg
```
